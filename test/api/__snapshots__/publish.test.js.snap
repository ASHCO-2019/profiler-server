// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`API versioning returns an error when an \`accept\` header is specified with an unsupported version 1`] = `
[MockFunction] {
  "calls": Array [
    Array [
      "[1mFirefoxProfiler.app[22m.[1m[31mERROR[39m[22m: server_error {\\"error\\":\\"NotAcceptableError: The header 'Accept' should have the value application/vnd.firefox-profiler+json; version=1\\",\\"stack\\":\\"NotAcceptableError: The header 'Accept' should have the value application/vnd.firefox-profiler+json; version=1\\\\n    at Object.throw (/home/julien/travail/git/profiler-server/node_modules/koa/lib/context.js:97:11)\\\\n    at /home/julien/travail/git/profiler-server/src/middlewares/versioning.js:50:7\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:44:32)\\\\n    at next (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:45:18)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/@koa/router/lib/router.js:346:16\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:44:32)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:36:12\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/@koa/router/lib/router.js:351:31)\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa/node_modules/koa-compose/index.js:42:32)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/koa/node_modules/koa-compose/index.js:34:12\\\\n    at Application.handleRequest (/home/julien/travail/git/profiler-server/node_modules/koa/lib/application.js:162:12)\\\\n    at Server.handleRequest (/home/julien/travail/git/profiler-server/node_modules/koa/lib/application.js:144:19)\\\\n    at Server.emit (events.js:210:5)\\\\n    at parserOnIncoming (_http_server.js:745:12)\\\\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:115:17)\\"}
",
    ],
  ],
  "results": Array [
    Object {
      "type": "return",
      "value": undefined,
    },
  ],
}
`;

exports[`API versioning returns an error when an accept header is specified with several unacceptable values 1`] = `
[MockFunction] {
  "calls": Array [
    Array [
      "[1mFirefoxProfiler.app[22m.[1m[31mERROR[39m[22m: server_error {\\"error\\":\\"NotAcceptableError: The header 'Accept' should have the value application/vnd.firefox-profiler+json; version=1\\",\\"stack\\":\\"NotAcceptableError: The header 'Accept' should have the value application/vnd.firefox-profiler+json; version=1\\\\n    at Object.throw (/home/julien/travail/git/profiler-server/node_modules/koa/lib/context.js:97:11)\\\\n    at /home/julien/travail/git/profiler-server/src/middlewares/versioning.js:50:7\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:44:32)\\\\n    at next (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:45:18)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/@koa/router/lib/router.js:346:16\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:44:32)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:36:12\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/@koa/router/lib/router.js:351:31)\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa/node_modules/koa-compose/index.js:42:32)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/koa/node_modules/koa-compose/index.js:34:12\\\\n    at Application.handleRequest (/home/julien/travail/git/profiler-server/node_modules/koa/lib/application.js:162:12)\\\\n    at Server.handleRequest (/home/julien/travail/git/profiler-server/node_modules/koa/lib/application.js:144:19)\\\\n    at Server.emit (events.js:210:5)\\\\n    at parserOnIncoming (_http_server.js:745:12)\\\\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:115:17)\\"}
",
    ],
  ],
  "results": Array [
    Object {
      "type": "return",
      "value": undefined,
    },
  ],
}
`;

exports[`API versioning returns an error when an accept header is specified without a version at all 1`] = `
[MockFunction] {
  "calls": Array [
    Array [
      "[1mFirefoxProfiler.app[22m.[1m[31mERROR[39m[22m: server_error {\\"error\\":\\"NotAcceptableError: The header 'Accept' should have the value application/vnd.firefox-profiler+json; version=1\\",\\"stack\\":\\"NotAcceptableError: The header 'Accept' should have the value application/vnd.firefox-profiler+json; version=1\\\\n    at Object.throw (/home/julien/travail/git/profiler-server/node_modules/koa/lib/context.js:97:11)\\\\n    at /home/julien/travail/git/profiler-server/src/middlewares/versioning.js:50:7\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:44:32)\\\\n    at next (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:45:18)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/@koa/router/lib/router.js:346:16\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:44:32)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:36:12\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/@koa/router/lib/router.js:351:31)\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa/node_modules/koa-compose/index.js:42:32)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/koa/node_modules/koa-compose/index.js:34:12\\\\n    at Application.handleRequest (/home/julien/travail/git/profiler-server/node_modules/koa/lib/application.js:162:12)\\\\n    at Server.handleRequest (/home/julien/travail/git/profiler-server/node_modules/koa/lib/application.js:144:19)\\\\n    at Server.emit (events.js:210:5)\\\\n    at parserOnIncoming (_http_server.js:745:12)\\\\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:115:17)\\"}
",
    ],
  ],
  "results": Array [
    Object {
      "type": "return",
      "value": undefined,
    },
  ],
}
`;

exports[`API versioning returns an error when an invalid \`accept\` header is specified 1`] = `
[MockFunction] {
  "calls": Array [
    Array [
      "[1mFirefoxProfiler.app[22m.[1m[31mERROR[39m[22m: server_error {\\"error\\":\\"NotAcceptableError: The header 'Accept' should have the value application/vnd.firefox-profiler+json; version=1\\",\\"stack\\":\\"NotAcceptableError: The header 'Accept' should have the value application/vnd.firefox-profiler+json; version=1\\\\n    at Object.throw (/home/julien/travail/git/profiler-server/node_modules/koa/lib/context.js:97:11)\\\\n    at /home/julien/travail/git/profiler-server/src/middlewares/versioning.js:50:7\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:44:32)\\\\n    at next (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:45:18)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/@koa/router/lib/router.js:346:16\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:44:32)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:36:12\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/@koa/router/lib/router.js:351:31)\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa/node_modules/koa-compose/index.js:42:32)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/koa/node_modules/koa-compose/index.js:34:12\\\\n    at Application.handleRequest (/home/julien/travail/git/profiler-server/node_modules/koa/lib/application.js:162:12)\\\\n    at Server.handleRequest (/home/julien/travail/git/profiler-server/node_modules/koa/lib/application.js:144:19)\\\\n    at Server.emit (events.js:210:5)\\\\n    at parserOnIncoming (_http_server.js:745:12)\\\\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:115:17)\\"}
",
    ],
  ],
  "results": Array [
    Object {
      "type": "return",
      "value": undefined,
    },
  ],
}
`;

exports[`API versioning returns an error when no \`accept\` header is specified 1`] = `
[MockFunction] {
  "calls": Array [
    Array [
      "[1mFirefoxProfiler.app[22m.[1m[31mERROR[39m[22m: server_error {\\"error\\":\\"BadRequestError: The header 'Accept' is missing.\\",\\"stack\\":\\"BadRequestError: The header 'Accept' is missing.\\\\n    at Object.throw (/home/julien/travail/git/profiler-server/node_modules/koa/lib/context.js:97:11)\\\\n    at /home/julien/travail/git/profiler-server/src/middlewares/versioning.js:25:7\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:44:32)\\\\n    at next (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:45:18)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/@koa/router/lib/router.js:346:16\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:44:32)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/koa-compose/index.js:36:12\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/@koa/router/lib/router.js:351:31)\\\\n    at dispatch (/home/julien/travail/git/profiler-server/node_modules/koa/node_modules/koa-compose/index.js:42:32)\\\\n    at /home/julien/travail/git/profiler-server/node_modules/koa/node_modules/koa-compose/index.js:34:12\\\\n    at Application.handleRequest (/home/julien/travail/git/profiler-server/node_modules/koa/lib/application.js:162:12)\\\\n    at Server.handleRequest (/home/julien/travail/git/profiler-server/node_modules/koa/lib/application.js:144:19)\\\\n    at Server.emit (events.js:210:5)\\\\n    at parserOnIncoming (_http_server.js:745:12)\\\\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:115:17)\\"}
",
    ],
  ],
  "results": Array [
    Object {
      "type": "return",
      "value": undefined,
    },
  ],
}
`;
